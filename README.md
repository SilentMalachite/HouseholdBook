# 家計簿アプリケーション

ASP.NET Core MVC と Entity Framework Core (SQLite) を用いた日本向け家計簿アプリケーションです。カテゴリ管理・取引管理に加えて、予算設定、定期取引、資産/負債管理、貯蓄目標、家計分析、自動カテゴリ分類、Excel/CSV 連携など、標準的な家計簿に必要な機能を備えています。

## 主な機能

- 取引の CRUD、カレンダー表示
- カテゴリと予算の管理、予算超過アラート
- 定期取引の自動生成
- 口座残高のトラッキング、現金残高照合
- 貯蓄目標と積立履歴の管理
- 家計診断、期間比較レポート、各種アラート
- 自動分類ルールと履歴学習によるカテゴリ推定
- CSV/Excel 形式での取引インポート・エクスポート

## 環境要件

- .NET SDK 9.0 以上
- SQLite
- 初回セットアップ時のみインターネット接続（NuGet パッケージ復元に使用）

## セットアップ

```bash
dotnet restore
dotnet ef database update
dotnet run
```

アプリケーションは `https://localhost:7158` または `http://localhost:5228` で起動します（`Properties/launchSettings.json` の設定に依存）。

## 主要コマンド

| コマンド | 説明 |
|----------|------|
| `dotnet build` | プロジェクトのビルド |
| `dotnet test` | 自動テストの実行 |
| `dotnet ef migrations add <Name>` | マイグレーションの追加 |
| `dotnet ef database update` | DB スキーマの適用 |

## データベース

- `householdbook.db` (SQLite) をアプリケーションルートに配置
- 新しい機能に合わせたマイグレーションが順次追加されています

## テスト

`HouseholdBook.Tests` プロジェクトに xUnit ベースのテストを用意しています。

```bash
dotnet test
```

## インポート/エクスポート

- 取引一覧画面から CSV/Excel (xlsx) のエクスポート、および CSV インポートが可能です。
- インポート時は不足するカテゴリ/口座を自動補完または新規作成します。

## 自動カテゴリ分類

- 取引の説明文からルールベースでカテゴリを推定します。
- 過去の取引履歴からもカテゴリを学習し、未分類の取引に自動適用します。
- 「自動分類ルール」画面でキーワード・優先度を管理できます。

## 貯蓄目標と資産管理

- 複数口座の残高履歴を記録し、現金残高照合が可能です。
- 貯蓄目標を設定し、達成率や積立履歴を可視化します。

## コントリビューション

改善提案やバグ報告は Issue、Pull Request で歓迎します。詳細は [CONTRIBUTING.md](CONTRIBUTING.md) を参照してください。

## ライセンス

このプロジェクトは [MIT License](LICENSE) の下で公開されています。
